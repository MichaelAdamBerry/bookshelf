(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(61)},38:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(18),o=a.n(c),i=(a(38),a(2)),l=a(3),s=a(6),u=a(4),m=a(5),p=a(16),h=a(66),v=a(67),d=a(65),f=a(23),y=a(63),b=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",noTextInput:!0,emptySubmit:!1},a.handleChange=function(e){var t=e.target.value,n=""===t;a.setState({query:t,noTextInput:n})},a.handleSubmit=function(e){var t=a.props.history,n=a.state,r=n.query,c=n.noTextInput;e.preventDefault(),c?a.setState({emptySubmit:!0}):t.push({pathname:"/list",search:"?q=".concat(r)})},a.getActions=function(){return{submitQuery:a.handleSubmit,typeLetter:a.handleChange}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.render(Object(f.a)({},this.state,{actions:this.getActions()}))}}]),t}(r.a.Component),E=Object(y.a)(b),g=function(e){var t=e.innerText,a=void 0===t?"Find Books":t,n=e.onClick;return r.a.createElement("button",{"data-testid":"findBooksBtn",type:"submit",onClick:n},a)},k=a(12),O=function(e){var t=e.actions,a=e.query,n=e.style,c=e.emptySubmit,o=e.noTextInput,i=e.fromError;return r.a.createElement("div",{className:"homeSearch","data-testid":"homeSearch",style:n},r.a.createElement("form",{onSubmit:t.submitQuery},r.a.createElement("div",{className:"welcomeTitle","data-testid":"welcomeTitle"},r.a.createElement("h4",null,"Enter a Title to Get Started")),r.a.createElement("div",null,r.a.createElement("div",{className:"textArea"},r.a.createElement("label",{htmlFor:"search-input"},"Title: "),r.a.createElement("input",{className:"homeSearch",id:"search-input",name:a,"aria-required":"true",type:"text",value:a,onChange:t.typeLetter}),c&&o?r.a.createElement("p",{style:{color:"red"}},"no search input"):r.a.createElement(r.a.Fragment,null),i&&r.a.createElement("p",{style:{color:"red"}},"Sorry, we couldn't find any books that matched your request"),r.a.createElement(g,{onClick:t.submitQuery}))),r.a.createElement("div",{className:"sources"},r.a.createElement("p",null,"Powered by",r.a.createElement("span",{style:{color:"#0266C8",marginLeft:"1em"}},r.a.createElement(k.a,{icon:["fab","google"],style:{width:"1.5em",height:"1.5em"}}))),r.a.createElement("p",null,"Crafted with",r.a.createElement("span",{style:{color:"#43853d",margin:"0 1em 0 1em"}},r.a.createElement(k.a,{icon:["fab","node-js"],style:{width:"1.5em",height:"1.5em"}}))," ","&",r.a.createElement("span",{style:{color:"#61dafb",marginLeft:"1em"}},r.a.createElement(k.a,{icon:["fab","react"],style:{width:"1.5em",height:"1.5em"}}))),r.a.createElement("span",null))))},j=a(8);function w(e){return r.a.createElement("section",{className:"hero",style:e.style},r.a.createElement("div",null,r.a.createElement("h2",null,"meet your next book")),r.a.createElement("div",null,r.a.createElement("h5",null,"Millions of eBooks at your fingertips")))}var x=function(e){var t=e.fromError;return r.a.createElement("div",{className:"home","data-testid":"home"},r.a.createElement(j.a,{from:{height:100,opacity:0},to:{height:400,opacity:1}},function(e){var t=e.height,a=e.opacity;return r.a.createElement(w,{style:{height:t,opacity:a}})}),r.a.createElement(E,{render:function(e){var a=e.actions,n=e.query,c=e.noTextInput,o=e.emptySubmit;return r.a.createElement(j.a,{delay:300,from:{height:100,opacity:0},to:{height:400,opacity:1}},function(e){var i=e.height,l=e.opacity;return r.a.createElement(O,{actions:a,query:n,style:{height:i,opacity:l},noTextInput:c,emptySubmit:o,fromError:t})})}}))},C=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="REPLACE"===this.props.history.action;return r.a.createElement(x,{fromError:e})}}]),t}(r.a.Component),N=a(11),S=a.n(N),L=a(14);function I(e){return T.apply(this,arguments)}function T(){return(T=Object(L.a)(S.a.mark(function e(t){var a,n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="https://www.googleapis.com/books/v1/volumes?q=".concat(t,"&orderBy=relevance&printType=books"),e.next=4,fetch(a,{method:"GET"});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",0!==r.totalItems&&r.items);case 11:return e.prev=11,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}},e,this,[[0,11]])}))).apply(this,arguments)}function R(e){return A.apply(this,arguments)}function A(){return(A=Object(L.a)(S.a.mark(function e(t){var a,n,r;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a="https://www.googleapis.com/books/v1/volumes/"+t,e.next=4,fetch(a,{method:"GET"});case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:e.prev=11,e.t0=e.catch(0),console.error(e.t0);case 14:case"end":return e.stop()}},e,this,[[0,11]])}))).apply(this,arguments)}var q=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getValidProps=function(){var e=a.state.volume,t=a.state.volumeInfo;return{free:"ALL_PAGES"===e.accessInfo.viewability,id:e.id,title:t.title?t.title:"",author:t.authors?t.authors[0]:"",averageRating:t.averageRating?t.averageRating:0,imageLinks:t.imageLinks?t.imageLinks:"",description:t.description?t.description:"",publishedDate:t.publishedDate?t.publishedDate:"",pageCount:t.pageCount?t.pageCount:"",publisher:t.publisher?t.publisher:"",previewLink:t.previewLink?t.previewLink:"",categories:t.categories?t.categories:""}},a.state={volume:a.props.volume,volumeInfo:a.props.volume.volumeInfo},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.render({props:this.getValidProps()})}}]),t}(r.a.Component),M=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={src:"",noImage:!1},a.getSrc=function(){var e=a.props,t=e.imageLinks,n=e.maxRes,r=n?"350px":"150px",c=n?"230px":"300px";if(t){var o=Object.keys(t);return{key:t[n?o[o.length-1]:o[0]],width:r,height:c}}return{key:"http://www.lse.ac.uk/International-History/Images/Books/NoBookCover.png",width:r,height:c}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.getSrc();return r.a.createElement("div",{style:{height:"inherit",overflow:"hidden"}},r.a.createElement("img",{src:e.key,alt:"book cover",style:{height:"auto",width:"".concat(e.width)}}))}}]),t}(r.a.Component),B=a(31),D=a(13),H=function(e){var t=e.averageRating,a=Number.parseInt(t),n=Number(t)%1>0;return r.a.createElement("div",{style:{display:"inline-flex"}},Object(B.a)(Array(a)).map(function(e,t){return r.a.createElement("span",{key:10*Math.random()},r.a.createElement(k.a,{icon:D.b,style:{color:"#e2c93d"}}))}),n&&r.a.createElement(k.a,{icon:D.c,style:{color:"#e2c93d"}}))},W=a(64),F=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={hovered:!1},a.setHover=function(){a.setState({hovered:!0})},a.cancelHover=function(){a.setState({hovered:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=Object(f.a)({},this.props);return r.a.createElement(j.a,{to:{scale:this.state.hovered?"1.1":"1",opacity:this.state.hovered?1:.8}},function(a){var n=a.scale,c=a.opacity;return r.a.createElement(P,Object.assign({onMouseOver:e.setHover,onMouseOut:e.cancelHover,style:{transform:"scale3d(".concat(n,", ").concat(n,", ").concat(n,")"),opacity:c}},t))})}}]),t}(r.a.Component),P=function(e){return r.a.createElement("div",{className:"card",style:e.style,onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut},r.a.createElement(W.a,{to:{pathname:"/volume",search:"id=".concat(e.id)}},e.free&&r.a.createElement("div",{className:"ribbon"},r.a.createElement("span",null,"Free!")),r.a.createElement("div",{className:"listCardWidth"},r.a.createElement("h4",null,e.title),r.a.createElement("div",{className:"thumbnailContainer"},r.a.createElement(M,{imageLinks:e.imageLinks,maxRes:!1})),r.a.createElement("div",{className:"listCardWidth"},r.a.createElement("h5",{"data-testid":"bookAuthor"},e.author)),r.a.createElement("div",null,r.a.createElement("h5",null,e.publisher)),r.a.createElement("div",{className:"stars"},!1===!e.averageRating&&r.a.createElement(H,{averageRating:e.averageRating})))))},G=F,Q=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement(k.a,{icon:D.a,className:"faSpin",style:{height:"3em",width:"3em",color:"white"},spin:!0}))}}]),t}(r.a.Component),V=a(21),J=a.n(V),Y=function(e){var t=e.volume;return r.a.createElement(q,{volume:t,volumeInfo:t.volumeInfo,render:function(e){var t=e.props;return r.a.createElement(G,t)}})},$=function(e){var t=e.volumes,a=e.loading;return r.a.createElement("div",{"data-testid":"listWrapper",className:"listWrapper"},a?r.a.createElement("div",{className:"listContainer",style:{display:"flex",alignItems:"center",minHeight:"100vh"}},r.a.createElement(Q,null)):t.map(function(e){return r.a.createElement(Y,{volume:e,key:10*Math.random()})}))},_=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(L.a)(S.a.mark(function e(){var t,a,n,r=this;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=J.a.parse(this.props.location.search),a=this.props.history,e.next=4,I(t.q);case 4:!1===(n=e.sent)?(console.warn("the query string did not return any results from google"),a.replace({pathname:"/",state:{error:!0}})):this.setState({volumes:n,query:t.q}),setTimeout(function(){r.setState({loading:!1})},1e3);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.volumes,a=e.noResults,n=e.loading;return r.a.createElement("div",{className:"listContainer"},r.a.createElement($,{volumes:t,noResults:a,loading:n}))}}]),t}(r.a.Component),z=a(27),K=a.n(z),U=a(28),X=a.n(U),Z=function(e){var t=e.imageLinks;return r.a.createElement(M,{imageLinks:t,maxRes:!0,width:"350px"})},ee=function(){return r.a.createElement("div",{className:"back"})},te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={flipped:!1},a.handleClick=function(){a.setState(function(e){return{flipped:!e.flipped}})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.description,a=e.previewLink,n=e.imageLinks,c=this.state.flipped;return r.a.createElement("div",{onClick:this.handleClick,className:"imgWrapper"},r.a.createElement(j.a,{config:function(e){return"opacity"===e?j.c.gentle:j.c.slow},to:{opacity:"".concat(c?"1":"0"),transform:"perspective(600px) rotateY(".concat(c?"180":"0","deg)"),backgroundColor:"".concat(c?"#2f2f2f":"#f7fbfc")}},function(e){var o=e.opacity,i=e.transform;return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.b.div,{className:"c front",style:{opacity:"".concat(c?"0":"1"),transform:i,boxShadow:"rgb(51, 46, 46) 5px 5px 30px"}},r.a.createElement(Z,{imageLinks:n})),r.a.createElement(j.b.div,{className:"c back",style:{opacity:o,transform:i,border:"1.5px solid rgb(33, 33, 33)",borderRadius:"3%",boxShadow:"rgb(51, 46, 46) 5px 5px 30px"}},r.a.createElement(ee,{description:t})),r.a.createElement(j.b.div,{className:"c",style:{opacity:o}},r.a.createElement("div",{style:{height:"420px",border:"solid 1px gray",borderRadius:"3px",margin:"1em",overflow:"scroll"}},r.a.createElement("p",null,X()(t)),r.a.createElement("div",null,r.a.createElement("a",{href:a,hidden:!c},r.a.createElement(g,{innerText:"View Preview"}))))))}))}}]),t}(r.a.Component),ae=function(e){var t=e.categories;return r.a.createElement("p",null,t.map(function(e){return r.a.createElement("span",{key:20*Math.random()},e," ")}))};var ne=function(e){var t=e.title,a=e.author,n=e.publishedDate,c=e.imageLinks,o=e.averageRating,i=e.description,l=e.pageCount,s=e.previewLink,u=e.categories;return r.a.createElement("div",{className:"volumeContainer"},r.a.createElement("div",null,r.a.createElement("div",{className:"miniHeader"},r.a.createElement("div",{className:"titleInfo",style:{justifyContent:"space-between"}},r.a.createElement("h5",null,t),r.a.createElement("p",null,K()(n).format("Y")),r.a.createElement("div",{style:{marginLeft:"1em"}},!1===!o&&r.a.createElement(H,{averageRating:e.averageRating}))),r.a.createElement("div",{className:"volumeAuthor"},r.a.createElement("h4",null,a)),r.a.createElement("div",{className:"titleMeta"},r.a.createElement("p",null,l," pages"),!1===!u&&r.a.createElement(ae,{categories:u})),r.a.createElement("div",null,r.a.createElement(te,{imageLinks:c,description:i,previewLink:s})))))},re=function(e){var t=e.volume;return r.a.createElement(j.a,{from:{opacity:0},to:{opacity:1},delay:300},function(e){var a=e.opacity;return r.a.createElement("div",{style:{opacity:a}},r.a.createElement(q,{volume:t,volumeInfo:t.volumeInfo,render:function(e){var t=e.props;return r.a.createElement(ne,t)}}))})},ce=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(L.a)(S.a.mark(function e(){var t,a,n=this;return S.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=J.a.parse(this.props.location.search),e.next=3,R(t.id);case 3:a=e.sent,this.setState({volume:a}),setTimeout(function(){n.setState({loading:!1})},1e3);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.volume;return r.a.createElement("div",null,t?r.a.createElement("div",{className:"volumeContainer",style:{display:"flex"}},r.a.createElement(Q,{style:{alignItems:"center"}})):r.a.createElement(re,{volume:a}))}}]),t}(r.a.Component),oe=a(29);a(17).b.add(D.b,D.c,D.a,oe.a);var ie=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a.connecToServer=a.connecToServer.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"connecToServer",value:function(){fetch("/")}},{key:"componentDidMount",value:function(){this.connecToServer()}},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(h.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,null,r.a.createElement(d.a,{exact:!0,path:"/",component:C}),r.a.createElement(d.a,{path:"/list",component:_}),r.a.createElement(d.a,{path:"/volume",component:ce})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ie,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.67203039.chunk.js.map