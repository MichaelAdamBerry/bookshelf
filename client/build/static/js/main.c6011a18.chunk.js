(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a(61)},38:function(e,t,a){},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),i=(a(38),a(2)),l=a(3),s=a(6),u=a(4),m=a(5),p=a(15),h=a(66),d=a(67),v=a(65),f=a(23),y=a(63),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={query:"",noTextInput:!0,emptySubmit:!1},a.handleChange=function(e){var t=e.target.value,n=""===t;a.setState({query:t,noTextInput:n})},a.handleSubmit=function(e){var t=a.props.history,n=a.state,r=n.query,c=n.noTextInput;e.preventDefault(),c?a.setState({emptySubmit:!0}):t.push({pathname:"/list",search:"?q=".concat(r)})},a.getActions=function(){return{submitQuery:a.handleSubmit,typeLetter:a.handleChange}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.render(Object(f.a)({},this.state,{actions:this.getActions()}))}}]),t}(r.a.Component),g=Object(y.a)(E),b=function(e){var t=e.innerText,a=void 0===t?"Find Books":t,n=e.onClick;return r.a.createElement("button",{"data-testid":"findBooksBtn",type:"submit",onClick:n},a)},O=a(11),j=function(e){var t=e.actions,a=e.query,n=e.style,c=e.emptySubmit,o=e.noTextInput,i=e.fromError;return r.a.createElement("div",{className:"homeSearch","data-testid":"homeSearch",style:n},r.a.createElement("form",{onSubmit:t.submitQuery},r.a.createElement("div",{className:"welcomeTitle","data-testid":"welcomeTitle"},r.a.createElement("h4",null,"Enter a Title to Get Started")),r.a.createElement("div",null,r.a.createElement("div",{className:"textArea"},r.a.createElement("label",{htmlFor:"search-input"},"Title: "),r.a.createElement("input",{className:"homeSearch",id:"search-input",name:a,"aria-required":"true",type:"text",value:a,onChange:t.typeLetter}),c&&o?r.a.createElement("p",{style:{color:"red"}},"no search input"):r.a.createElement(r.a.Fragment,null),i&&r.a.createElement("p",{style:{color:"red"}},"Sorry, we couldn't find any books that matched your request"),r.a.createElement(b,{onClick:t.submitQuery}))),r.a.createElement("div",{className:"sources"},r.a.createElement("p",null,"Powered by",r.a.createElement("span",{style:{color:"#0266C8",marginLeft:"1em"}},r.a.createElement(O.a,{icon:["fab","google"],style:{width:"1.5em",height:"1.5em"}}))),r.a.createElement("p",null,"Crafted with",r.a.createElement("span",{style:{color:"#43853d",margin:"0 1em 0 1em"}},r.a.createElement(O.a,{icon:["fab","node-js"],style:{width:"1.5em",height:"1.5em"}}))," ","&",r.a.createElement("span",{style:{color:"#61dafb",marginLeft:"1em"}},r.a.createElement(O.a,{icon:["fab","react"],style:{width:"1.5em",height:"1.5em"}}))),r.a.createElement("span",null))))},k=a(8);function w(e){return r.a.createElement("section",{className:"hero",style:e.style},r.a.createElement("div",null,r.a.createElement("h2",null,"meet your next book")),r.a.createElement("div",null,r.a.createElement("h5",null,"Millions of eBooks at your fingertips")))}var x=function(e){var t=e.fromError;return r.a.createElement("div",{className:"home","data-testid":"home"},r.a.createElement(k.a,{from:{height:100,opacity:0},to:{height:400,opacity:1}},function(e){var t=e.height,a=e.opacity;return r.a.createElement(w,{style:{height:t,opacity:a}})}),r.a.createElement(g,{render:function(e){var a=e.actions,n=e.query,c=e.noTextInput,o=e.emptySubmit;return r.a.createElement(k.a,{delay:300,from:{height:100,opacity:0},to:{height:400,opacity:1}},function(e){var i=e.height,l=e.opacity;return r.a.createElement(j,{actions:a,query:n,style:{height:i,opacity:l},noTextInput:c,emptySubmit:o,fromError:t})})}}))},C=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e="REPLACE"===this.props.history.action;return r.a.createElement(x,{fromError:e})}}]),t}(r.a.Component),S=a(14),N=a.n(S),L=a(20),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).getValidProps=function(){var e=a.state.volume,t=a.state.volumeInfo;return{free:"ALL_PAGES"===e.accessInfo.viewability,id:e.id,title:t.title?t.title:"",author:t.authors?t.authors[0]:"",averageRating:t.averageRating?t.averageRating:0,imageLinks:t.imageLinks?t.imageLinks:"",description:t.description?t.description:"",publishedDate:t.publishedDate?t.publishedDate:"",pageCount:t.pageCount?t.pageCount:"",publisher:t.publisher?t.publisher:"",previewLink:t.previewLink?t.previewLink:"",categories:t.categories?t.categories:""}},a.state={volume:a.props.volume,volumeInfo:a.props.volume.volumeInfo},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.props.render({props:this.getValidProps()})}}]),t}(r.a.Component),R=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={src:"",noImage:!1},a.getSrc=function(){var e=a.props,t=e.imageLinks,n=e.maxRes,r=n?"350px":"150px",c=n?"230px":"300px";if(t){var o=Object.keys(t);return{key:t[n?o[o.length-1]:o[0]],width:r,height:c}}return{key:"http://www.lse.ac.uk/International-History/Images/Books/NoBookCover.png",width:r,height:c}},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.getSrc();return r.a.createElement("div",{style:{height:"inherit",overflow:"hidden"}},r.a.createElement("img",{src:e.key,alt:"book cover",style:{height:"auto",width:"".concat(e.width)}}))}}]),t}(r.a.Component),T=a(31),A=a(12),M=function(e){var t=e.averageRating,a=Number.parseInt(t),n=Number(t)%1>0;return r.a.createElement("div",{style:{display:"inline-flex"}},Object(T.a)(Array(a)).map(function(e,t){return r.a.createElement("span",{key:10*Math.random()},r.a.createElement(O.a,{icon:A.b,style:{color:"#e2c93d"}}))}),n&&r.a.createElement(O.a,{icon:A.c,style:{color:"#e2c93d"}}))},q=a(64),B=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={hovered:!1},a.setHover=function(){a.setState({hovered:!0})},a.cancelHover=function(){a.setState({hovered:!1})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=Object(f.a)({},this.props);return r.a.createElement(k.a,{to:{scale:this.state.hovered?"1.1":"1",opacity:this.state.hovered?1:.8}},function(a){var n=a.scale,c=a.opacity;return r.a.createElement(D,Object.assign({onMouseOver:e.setHover,onMouseOut:e.cancelHover,style:{transform:"scale3d(".concat(n,", ").concat(n,", ").concat(n,")"),opacity:c}},t))})}}]),t}(r.a.Component),D=function(e){return r.a.createElement("div",{className:"card",style:e.style,onMouseOver:e.onMouseOver,onMouseOut:e.onMouseOut},r.a.createElement(q.a,{to:{pathname:"/volume",search:"id=".concat(e.id)}},e.free&&r.a.createElement("div",{className:"ribbon"},r.a.createElement("span",null,"Free!")),r.a.createElement("div",{className:"listCardWidth"},r.a.createElement("h4",null,e.title),r.a.createElement("div",{className:"thumbnailContainer"},r.a.createElement(R,{imageLinks:e.imageLinks,maxRes:!1})),r.a.createElement("div",{className:"listCardWidth"},r.a.createElement("h5",{"data-testid":"bookAuthor"},e.author)),r.a.createElement("div",null,r.a.createElement("h5",null,e.publisher)),r.a.createElement("div",{className:"stars"},!1===!e.averageRating&&r.a.createElement(M,{averageRating:e.averageRating})))))},H=B,W=function(e){function t(){return Object(i.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{margin:"auto"}},r.a.createElement(O.a,{icon:A.a,className:"faSpin",style:{height:"2em",width:"2em",color:"white"},spin:!0}))}}]),t}(r.a.Component),F=a(21),P=a.n(F),Q=function(e){var t=e.volume;return r.a.createElement(I,{volume:t,volumeInfo:t.volumeInfo,render:function(e){var t=e.props;return r.a.createElement(H,t)}})},V=function(e){var t=e.volumes,a=e.loading;return r.a.createElement("div",{"data-testid":"listWrapper",className:"listWrapper"},a?r.a.createElement("div",{className:"listContainer",style:{display:"flex",alignItems:"center",minHeight:"100vh"}},r.a.createElement(W,null)):t.map(function(e){return r.a.createElement(Q,{volume:e,key:10*Math.random()})}))},G=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(L.a)(N.a.mark(function e(){var t,a,n,r,c,o=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.a.parse(this.props.location.search),a=this.props.history,n="/list-data/"+t.q,e.next=5,fetch(n);case 5:return r=e.sent,e.next=8,r.json();case 8:(c=e.sent).data.items?(this.setState({volumes:c.data.items}),setTimeout(function(){o.setState({loading:!1})},1e3)):(this.setState({noResults:!0}),a.replace({pathname:"/",state:{error:!0}}));case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.volumes,a=e.noResults,n=e.loading;return r.a.createElement("div",{className:"listContainer"},r.a.createElement(V,{volumes:t,noResults:a,loading:n}))}}]),t}(r.a.Component),J=a(27),Y=a.n(J),$=a(28),_=a.n($),z=function(e){var t=e.imageLinks;return r.a.createElement(R,{imageLinks:t,maxRes:!0,width:"350px"})},K=function(){return r.a.createElement("div",{className:"back"})},U=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={flipped:!1},a.handleClick=function(){a.setState(function(e){return{flipped:!e.flipped}})},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.description,a=e.previewLink,n=e.imageLinks,c=this.state.flipped;return r.a.createElement("div",{onClick:this.handleClick,className:"imgWrapper"},r.a.createElement(k.a,{config:function(e){return"opacity"===e?k.c.gentle:k.c.slow},to:{opacity:"".concat(c?"1":"0"),transform:"perspective(600px) rotateY(".concat(c?"180":"0","deg)"),backgroundColor:"".concat(c?"#2f2f2f":"#f7fbfc")}},function(e){var o=e.opacity,i=e.transform;return r.a.createElement(r.a.Fragment,null,r.a.createElement(k.b.div,{className:"c front",style:{opacity:"".concat(c?"0":"1"),transform:i,boxShadow:"rgb(51, 46, 46) 5px 5px 30px"}},r.a.createElement(z,{imageLinks:n})),r.a.createElement(k.b.div,{className:"c back",style:{opacity:o,transform:i,border:"1.5px solid rgb(33, 33, 33)",borderRadius:"3%",boxShadow:"rgb(51, 46, 46) 5px 5px 30px"}},r.a.createElement(K,{description:t})),r.a.createElement(k.b.div,{className:"c",style:{opacity:o}},r.a.createElement("div",{style:{height:"420px",border:"solid 1px gray",borderRadius:"3px",margin:"1em",overflow:"scroll"}},r.a.createElement("p",null,_()(t)),r.a.createElement("div",null,r.a.createElement("a",{href:a,hidden:!c},r.a.createElement(b,{innerText:"View Preview"}))))))}))}}]),t}(r.a.Component),X=function(e){var t=e.categories;return r.a.createElement("p",null,t.map(function(e){return r.a.createElement("span",{key:20*Math.random()},e," ")}))};var Z=function(e){var t=e.title,a=e.author,n=e.publishedDate,c=e.imageLinks,o=e.averageRating,i=e.description,l=e.pageCount,s=e.previewLink,u=e.categories;return r.a.createElement("div",{className:"volumeContainer"},r.a.createElement("div",null,r.a.createElement("div",{className:"miniHeader"},r.a.createElement("div",{className:"titleInfo",style:{justifyContent:"space-between"}},r.a.createElement("h5",null,t),r.a.createElement("p",null,Y()(n).format("Y")),r.a.createElement("div",{style:{marginLeft:"1em"}},!1===!o&&r.a.createElement(M,{averageRating:e.averageRating}))),r.a.createElement("div",{className:"volumeAuthor"},r.a.createElement("h4",null,a)),r.a.createElement("div",{className:"titleMeta"},r.a.createElement("p",null,l," pages"),!1===!u&&r.a.createElement(X,{categories:u})),r.a.createElement("div",null,r.a.createElement(U,{imageLinks:c,description:i,previewLink:s})))))},ee=function(e){var t=e.volume;return r.a.createElement(k.a,{from:{opacity:0},to:{opacity:1},delay:300},function(e){var a=e.opacity;return r.a.createElement("div",{style:{opacity:a}},r.a.createElement(I,{volume:t,volumeInfo:t.volumeInfo,render:function(e){var t=e.props;return r.a.createElement(Z,t)}}))})},te=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=Object(L.a)(N.a.mark(function e(){var t,a,n,r,c=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=P.a.parse(this.props.location.search),console.log(t.id),a="/volume-data/id/"+t.id,console.log(a),e.next=6,fetch(a);case 6:return n=e.sent,console.log("data",n),e.next=10,n.json();case 10:r=e.sent,console.log("volume",r.data),this.setState({volume:r.data},console.log(this.state)),setTimeout(function(){c.setState({loading:!1})},1e3);case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.volume;return r.a.createElement("div",null,t?r.a.createElement("div",{className:"volumeContainer",style:{display:"flex"}},r.a.createElement(W,{style:{alignItems:"center"}})):r.a.createElement(ee,{volume:a}))}}]),t}(r.a.Component),ae=a(29);a(16).b.add(A.b,A.c,A.a,ae.a);var ne=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},a.connecToServer=a.connecToServer.bind(Object(p.a)(Object(p.a)(a))),a}return Object(m.a)(t,e),Object(l.a)(t,[{key:"connecToServer",value:function(){fetch("/")}},{key:"componentDidMount",value:function(){this.connecToServer()}},{key:"render",value:function(){return r.a.createElement("div",{className:"main"},r.a.createElement(h.a,null,r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(v.a,{exact:!0,path:"/",component:C}),r.a.createElement(v.a,{path:"/list",component:G}),r.a.createElement(v.a,{path:"/volume",component:te})))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,2,1]]]);
//# sourceMappingURL=main.c6011a18.chunk.js.map